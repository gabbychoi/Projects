

# Interchange of Limit

극한의 순서를 바꾸는것은 해석학에서 가장 중요한 문제중 하나입니다. 해석학의 연산들인 미적분을 포함해 함수를 벡터로 이해하여 표현하는 급수와 적분변환 등의 여러 해석학적인 방법들의 정의에는 극한을 imply 한다는것은 굳이 설명하지 않아도 알고 있습니다. 예를 들면 우리는 이런 연산을 매우 당연하고 자연스럽게 생각하고 활용합니다.

$$
f(z)=\sum_{n=0}^{\infin} a_nz^n \\
f'(z)=\sum_{n=1}^{\infin} na_nz^{n-1} \\
\int f(z)= C+\sum_{n=0}^{\infin} {1 \over n+1}{a_nz^{n+1}}
\\
{d\over dx}\int_a^b f(x,y)dy=\int_a^b {\partial \over \partial x}f(x,y)dy
$$

하지만 극한의 순서 바꾸기는 생각보다 어려운 문제인데, 아래 예시를 보면 알 수 있습니다.

$$
a : \N \times \N \rarr \R_{\infin}
\\
a(m,n)={m \over n}
$$

그리고 해당 수열에서 다음 결과를 확인하는것은 어렵지 않을 것입니다.

(단, $\R_{\infin}$ 은 실수공간의 one-point compactification Space)

$$
\lim_{m \rarr \infin}\lim_{n \rarr \infin} a(m,n)=0 \ \ \ \\
\lim_{n \rarr \infin}\lim_{m \rarr \infin}a(m,n)=\infin
$$

우리가 해석학에서 다루는 대상중 수열이 있죠, 수열이 뭔지 다시 정리해보면

$$
a : \mathbb{N} \rarr Y
$$

이처럼 정의가 되는데 여태껏 우리는 수열을 공역이 복소수 집합 $\mathbb{C}$ 인 수열을 주로 다루었습니다. 하지만 수열의 정의에서 가장 중요한것은 정의역 가산집합이라는 것이지 공역에 대해 딱히 제한을 두고 있지 않습니다. 이제는 이 사고방식을 한번 더 확장해보는 시간을 가져봅시다.

## 함수열

이제 공역 집합이 함수들을 포함한 집합을 고려합시다.

함수 $f:X \rarr Y$ 들이 모인 집합 $\{f_\lambda \}$ 을 생각합시다.

이제 함수열 $f$ 은 다음과 같이 정의할 수 있습니다.

$$
f : \mathbb{N} \rarr \{ f_{\lambda} \}
$$

그리고 이때 나오는 $f(n)=f_\lambda$ 을 $f_n$ 으로 표기하겠습니다.

혹은 함수 자체를

$$
f : \mathbb{N}\times X \rarr Y
$$

로 이해하여 $f(n,x)$ 로도 표시할 수 있고 이는 역시 $f_n(x)$ 로 표시하겠습니다.

### 함수열의 수렴(Convergence)

함수열의 정의역은 $\mathbb{N}$ 이지만 그 뿐만 아니라 함수의 정의역이라는 또 다른 정의역인 $f$ 의 정의역 또한 존재합니다. 따라서 정의역 $X$의 각 점 $x$ 마다 수렴점을 생각해볼수 있습니다.

$$
x \in X
\\
f_n(x) \rarr f(x)
$$

모든 점 $x$ 마다 $f_n(x)$ 가 수렴할 때 함수가 수렴한다고 정의하는것이 가장 자연스럽습니다. 이제 각 수렴점으로 정의된 함수를 점별극한함수라 하고 이 점별극한함수가 존재하는 함수열을 점별수렴(Pointwise Convergence)하는 함수열이라 부릅니다.

$$
f:X\rarr Y \\f(x)=\lim_{n \rarr \infin } f_n(x)
$$

언뜻 보면 괜찮아 보이는 정의의지만 단순한 예시에서부터 난관에 봉착하게 되는 정의중 하나가 된다. 예를 들어 다음과 같은 함수열을 고려해면.

$$
(1) \ \ \ f_n(x)=x^n \ \ x \in[0,1] \\
(2) \ \ \ f_n(x)=\chi_{[-n,n]} \ \ x \in \mathbb{R}
$$

단 $\chi_X$ 는 $X$ 의 characteristic function

두 함수의 점별극한함수는 첫번재는 $f(x)=\chi_{\{ 0 \}}$ 이고 두번째는 $f(x)=1$ 이 됩니다.
대충 연속함수열이 불연속함수로 또 불연속 함수가 연속함수열로 수렴하는 이상한 현상이 벌어지죠.

해석학의 입장에서는 환장할 노릇인데 왜그런지는 우리가 이걸 논의하면서 원하는 대답이 무엇인지 알아야 합니다. 언제나 당연하다는듯이 사용하던 개념인데

$$
\lim_{n \rarr \infin} {d \over dx}f_n={d\over dx} \lim_{n \rarr \infin} f_n(x) \\

\lim_{n \rarr \infin} \int_X f_n = \int_X \lim_{n \rarr \infin} f_n
$$

이런 식으로 극한의 순서를 바꿔 쓰는것이 우리가 하고싶은 일입니다.

이제 다음 정의로 이 보장할 수 있겠는가? 라기엔 우선 미적분의 기초적인 틀을 담당해줄 연속성부터 보존되지 않는 치명적인 문제점이 있습니다. 백번 양보해서 적분은 좀 널럴한 조건을 통해 허용이 되더라도 미분은 아무리봐도 빠져나갈 방법이 없어보입니다. 미분은 연속이 필요조건이기 때문이죠.

게다가 연속함수가 연속함수로 수렴한다손 치더라도 문제가 되는데 이번엔 다음 예제를 봅시다.

$$
(3) \ \ \ \ f_n(x)= (x-n){\chi}*{[n,n+1)} +(n+2-x){\chi}*{[n+1,n+2)}
$$

위 함수는 $[ n,n+2]$ 사이에서만 삼각형으로 삐죽 튀어나오면서 옆으로 한칸씩 이동하는 함수열입니다.

![[그림] 항목 (3) 의 그래프](https://prod-files-secure.s3.us-west-2.amazonaws.com/f19220f4-d627-4044-b8de-58bdba2674e4/8638d77e-b802-46e0-b187-6c6641fc028b/Untitled.png)

[그림] 항목 (3) 의 그래프

이 함수는 상수함수 0으로 점별수렴하고 모든 항이 연속함수이고 점별극한함수또한 연속함수입니다.

이러면 이제 문제는 앞서 우리가 궁금했던 내용이 성립하느냐인데…

우선 점별극한 함수를 $f$ 실수 전체 구간에서 적분을 구하면

$$
\int_{\mathbb{R}}f=\int_{\mathbb{R}}0=0
$$

0 이 되지만 함수열은

$$
\lim_{n \rarr \infin}\int_{\mathbb R} f_n =\lim_{n \rarr \infin} 1 =1
$$

이되어 적분에서 $\lim$ 을 바꿔 쓸수 없게 됩니다.

또한 해당 함수열은 미분 불가능한 점이 세개씩 존재하지만 점별극한함수는 상수함수가 되어 모든 점에서 미분이 가능해져 미적분의 기본적인 성질이 보존되지 않는 문제점이 있습니다.

즉, 점별수렴은 함수열에게 있어 미적분을 수행하기 위한 기본적인 인사이트를 주지 않는 정의이죠. 물론 M.C.T.나 D.C.T. 같은 정리들은 점별 수렴만으로도 적분의 극한이 보존된다는 이야기가 가능해지지만 이들은 “굉장히 좋은” 형태로 함수가 정의되어 있기에 또 다른 이야기가 됩니다.

이제 여기서 점별수렴의 정의가 지닌 맹점을 짚어야 합니다. 그러기 위해 우리가 낸 해석학에 점별 수렴의 정의를 다시 상세하게 적어봅시다.

$f_n$ 이 점별수렴한다는 것은 모든 점 $x \in X$ 에 대해 $\lim_{n \rarr \infin} f_n(x)$ 가 모두 수렴한다는 것이다.

눈썰미가 좋은 독자들은 해석학에서 가장 익숙한 친구인 $\epsilon - \delta$ 논법이 등장하지 않는다는 점을 눈치 챘을 것입니다.

물론 수열 관점에서는 등장하지만 정작 보다 더 중요한 함수의 정의역에 대한 논의가 빠져 있습니다. 이 논의가 빠짐으로 인해 각 근방의 점들이 제멋대로 행동하는 것을 통제할 수 없게 되었고 이런 맹점이 생기게 됩니다.
위상공간은 항상 점과 근방 $\mathcal{N}$ 이라는 개념을 짝궁으로 함께 들고 다니는 특성이 있어 이를 고려해 정의해야 할 것입니다, 여기서 근방은 열린집합의 개념과 동일한 개념으로 받아들입시다.

우리는 이제 열린집합이 뭔지 알고 있으니 다음과 같이 정의를 바꿔보죠. 이제 우리가 잊고 있던 $\epsilon$ 이라는 친구를통해 함수의 근방 행동을 통제할 것입니다.

$\forall{\epsilon }>0$ , $\exists{N} \in \mathbb{N}$ 이제 $n > N$ 이면 $\forall x \in X$ 에 대해

$$
|f_n(x)-f(x)|<\epsilon
$$

으로 수렴의 정의를 고칠수 있습니다.

필자는 처음에 교수님께 해당 내용을 들을때 무슨소리인지 이해 자체를 못했습니다. 실제 정의가 저렇게 쓰여 있기 때문에 두개 이상의 변수를 다루는데 익숙하지 않다면 정의를 이해하는게 어려울 수 있다. 그래도 하나하나 천천히 이해해보는 시간을 가져봅시다.

우선 첫번째 예제인 $x^n$ 의 수렴 형태를 한번 봅시다. 이 예제는 굉장히 전형적인 예제로 사실 이 장의 대부분 이야기를 해당 예제만 가지고도 설명할 수 있습니다.

해당 함수는 다음처럼 1에 대응하는 특성함수로 수렴하게 된다. 이 예제는 점별 수렴에 대한 문제점이 뭔지 확실히 알려줍니다.

![[그림] x^n 의 수렴성](https://prod-files-secure.s3.us-west-2.amazonaws.com/f19220f4-d627-4044-b8de-58bdba2674e4/ac2c46e1-6939-4997-85b9-ab85d1a4d14b/Untitled.png)

[그림] x^n 의 수렴성

해당 함수열의 0 근방에서 움직임을 보면 다음같이 나타나는데,

$\epsilon$ 을 $\sum_{i=1}^{k} {{9 }\over{10^k}}$ 을 k 을 키워가며 계속해서 작은 범위에서 생각해봅시다.

1. $1^n \rarr 1$, $0.9^n \rarr0$

2. $1^n \rarr 1$, $0.99 ^n \rarr 0$

3. $1^n \rarr 1$, $0.999^n \rarr 0$
   
   ```
             $...$
   ```

k. $1^n \rarr 1$, $0.999.....9^n \rarr 0$

안타깝게도 1 근방에서 아무리 $\epsilon$ 을 작게 잡더라도 1이 아닌 수에서는 모든 수가 0으로 내려가버립니다.

1 딱 한개의 점만 빼면 아무리 가깝게 잡더라도 극한값이 0으로 떨어지죠.

그래도 다항함수는 연속함수이므로 n 을 아무리 크게 잡더라도 큰 기울기값을 통해 그 외의 인근 점들은 서로 근방의 점이 가깝게 유지되며 국소적으로는 서로 위의 정의처럼

$$
|f_n(x)-f(x)|<\epsilon
$$

이 성질을 유지하며 가까워짐을 확인할 수 있습니다..

이제 1이라는 문제아만 제외하면 다른 점들의 값은 본연의 성질(근방에서 무한히 가까운 점을 유지)을 유지한채 서로 가까운 거리를 유지한 채 수렴한다고 볼 수 있고 이를 따라서 말 그대로 고른수렴(uniform convergence)으로 부른다.

## 고른수렴의 특징

고르게 수렴한다는 근방을 이용한 정의하였다. 이제 함수열은 각 점이 서로 튀지 않고 서로 비슷한 수준에서 움직이게 된다. 그리고 이렇게 약속하기로 하자. 당연하지만 고른 수렴하는 함수열은 코시수열이 된다.

$$
f_n \rightrightarrows f
$$

우선 다음 정리가 성립합니다

$$
f_n \rightrightarrows f
\\
\lim_{n \rarr \infin}\lim_{x \rarr a} f_n(x)=\lim_{x \rarr a}\lim_{n \rarr \infin} f_n(x) \ a\in X
\\
f_n \in C(X) \Rarr f \in C(X)
$$

고른 수렴하는 함수열 극한의 순서에 독립적이며 연속성을 보존합니다.

증명은 연속성을 보이기위해 f(x)-f(y) 를 두 함수열값을 더하고 빼고 해체 해서 어찌저찌…

독자들이 직접 해보도록 하자

그다음은 적분인데….

$$
f_n \rightrightarrows f
\\
f_n \in R(X) \Rarr f \in R(X)
\\
\lim \int_X f_n = \int_X \lim f_n
$$

균등수렴이 보장되면 적분은 내키는대로 계산할수 있습니다. 증명은 마찬가지로 좌변에 우변 적분을 빼서…..

미분은 조금 복잡힌 문제인데 미분은 미분열의 고른수렴성까지 보장되어야 이야기가 가능해집니다.

$$
f_n \rightrightarrows f
\\f'_n \rightrightarrows g\\
f_n \in C^1(X) \Rarr f \in C^1(X) \ ,f' = g
$$

미분은 조금 더 빠듯한 조건인데, 여기선 미분한 함수열까지 균등수렴해야합니다. 이것도 마찬가지로 증명은…

## Power Series

하고자 하는 이야기의 마지막이다. 함수열을 열심히 빌드업한 이유는 여기에 있습니다.

멱급수 혹은 거듭제곱급수라고 불리는 대상은 다음과같이 나타는 함수를 의미합니다.

$$
\sum_{n=0}^{\infin}a_nx^n
$$

이 거듭제곱 급수는 $\lim_{n \rarr \infin } | {a_{n+1} \over a_n }|=1/r$ 이라 할 때 $x<r$ 일때 수렴합니다.
이제 이 $r$ 을 수렴반경이라고 합니다.

이제구간 $(-r,r)$ 이 멱급수가 정의되는 집합이 됩니다.
이제 이 반경 내부의 임의의 콤팩트 $K$ 내에서 생각해보면

$$
k=max(K,-K)

\\

|a_nx^n| \leq |a_nk^n|
$$

이 되는데

$$
M=\sum |a_nk^n|
$$

이 수렴하니 바이어슈트라스 M 판정법을 이용하면 주어진 급수가 균등하게 수렴하는것을 알 수 있습니다.

이제 주어진 급수를 다시 부분합의 함수열로 볼 수 있기에 우리아 앞서 논의한 급수의 순서바꾸기 논리가 그대로 적용됩니다. 이말은 즉

$$
{d \over dx}\sum a_nx^n=\sum {d \over dx}a_nx^n
\\
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ = \sum na_{n}x^{n-1}
\\ \\
\\

$$

$$
\int \sum a_nx^n=\sum \int a_nx^n
\\
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ = \sum{1 \over n+1}a_nx^{n+1}
$$

이런식으로 항별로 계산하는데 수렴반경 내에서만 계산한다면 아무런 문제가 없다는 것입니다.

(미분 함수열이 수렴하는 이유는 직접 판정해봅시다.)

## Analytic function

Power Series 의 대표격인 Taylor Series로 돌아옵시다.
x=a 인 점에서 수렴반경 $R$ 인 테일러 급수는

$$
f(x)=\sum_{n=0}^{\infin} {f^{(n)}(a) \over n!}(x-a)^n \ \ \ |x-a|<R
$$

다음같이 표현된다.

여기서 해당 급수 $\sum_{n=0}^{\infin}a_nx^n$ 를 표현한 다른 표현임을 생각합니다.

## Leibniz Rule

라이프니츠 룰이라 불리는 정리는 여러가지가 있습니다. 열심히 함수열 이야기를 하다가 왜 나오는가? 싶겠지만 이 페이지의 주제가 극한의교환이므로 기술하겠습니다.

다음과 같은 함수를 생각해봅시다.

$$
F(x)=
\int_a^b f(x,y)dy
$$

이제 $F$ 의 미분을 생각해야합니다. 우리가 원하는 형태라면 미분은 다음과 같이 수행되어야 합니다.

$$
{d \over dx}F(x)={d\over dx}\int_a^b f(x,y)dy=\int_a^b {\partial \over \partial x}f(x,y)dy
$$

이를 해결 하기 위해 다음 수식을 이렇게 조정해 봅시다.

$$
\bigg| {F(x+h)-F(x) \over h} -\int_a^bf_x(x,y)dy \bigg| \\
\lrarr \bigg| \int_a^b{f(x+h,y)-f(x,y)\over h} -f_x(x,y)dy \bigg| \\

$$

그렇다면 이제 점 $x$ 에서 편미분 가능하며 그 도함수가 연속이라면 어째선지 성립 할 것으로 보입니다. 하지만 한가지 거슬리는 점이 있는데 바로 $y$ 의 존재입니다. 현재 논리는 $y$ 를 고려 하지 않고 진행해왔기 때문에 각 $y$ 별 $\epsilon,h$ 의 선택에 의존하게 됩니다. 이를 해소하기 위해 이를 균등연속으로 만들 필요가 있습니다. 이제 주어진 도함수가 $(x,y)$ 와 그 근방에서 연속이면 $(x,y)$ 를 포함하는 콤팩근방 를 잡을수 있고 $I_X \times [a,b]$ 그 근방에서 균등연속이 됩니다.

이제 주어진 명제를 해당 점에서 제한하여 생각하면 균등연속이기에 주어진 거리조건보다 좁아진다면 $h$ 를 하나만 선택하더라도 $\epsilon$ 보다 작아지게 할 수 있습니다. 따라서 수식은 다음과 같이 됩니다.

$\epsilon \over b-a$ 에 대해 $h<\delta$ 가 되도록 $h$ 를 정의하면 평균값 정리에 의해

$$
\bigg| \int_a^b{f(x+h,y)-f(x,y)\over h} -f_x(x,y)dy \bigg|
\\ \iff
\bigg| \int_a^bf(h^*,y) -f_x(x,y)dy \bigg|< \int_a^b\big| f(h^*,y) -f_x(x,y)\big|dy <\epsilon
$$

이 되어 수식이 성립함을 알 수 있습니다.

### 함수공간

앞서 다룬 함수 열에 대해 이제는 함수공간에 대해 알아가는 시간을 가져보겠습니다.

벡터공간이란 일반적으로 벡터, 수학적으로 벡터공간의 성질을 만족하는 대상과 연산이 이루는 집합을 의미한다. 그리고 우리는 연속함수에 대해 다음과 같은 정리를 알고 있다.

$$
if \ \ f, g \in C(X) \ , c \in \mathbb{C} \\
\rarr f+g \in C(X) \\
cf \in C(X)
$$

즉 연속함수는 덧셈 연산에 대해 닫혀 있고 스칼라곱에 대해 닫혀 있는 연산이다. 역원의 존재는 딱히 언급하지 않아도 될 것이다. 이제 연속함수 집합 $C(X)$ 는 벡터 공간이다. 물론 함수 공간이 되는 함수는 딱히 연속함수가 아니어도 문제는 없다. 조각적 연속이나 리만적분가능, 가측함수 , $L^p$공간 등 꽤 많은 함수공간이 벡터 공간을 이룬다.

그럼 이제 대충 함수 공간이 되는 함수들을 모아놓은 집합을 $V$ 라고 해보자 다시한 번 함수열의 정의를 되짚어보면 함수열의 적당한 정의를 내릴 수 있다.

$$
f:\mathbb{N}\rarr V
$$

이제 수열에서 했던 것과 같이 함수열 $f(n)$ 은 $f_n$ 으로 적고 수열에서 다루던 것과 마찬가지로 함수열을 다룰 것이다. 당연하지만 해석학에서 궁금해 하는것은 코시 수열이 수렴하는가이다.
